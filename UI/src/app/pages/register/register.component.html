<ng-container *transloco="let t">
  <form [formGroup]="registerForm" (ngSubmit)="registerUser(registerForm.value)">
    <h3>{{t('account.register')}}</h3>
    <div class="dx-fieldset">
      <div class="dx-field">
        <div class="dx-field-label">{{t('account.email')}}</div>
        <div class="dx-field-value">
          <input type="text" id="email" formControlName="email" class="form-control" />
        </div>
      </div>
      <div class="dx-field">
        <div class="dx-field-label">{{t('account.password')}}</div>
        <div class="dx-field-value">
          <input type="password" id="password" formControlName="password" class="form-control" />
        </div>
      </div>
      <div class="dx-field">
        <div class="dx-field-label">{{t('account.confirmPassword')}}</div>
        <div class="dx-field-value">
          <input type="password" id="confirmpassword" formControlName="confirmpassword" class="form-control" />
        </div>
      </div>
      <div class="dx-field">
        <div class="dx-field-label">{{t('account.name')}}</div>
        <div class="dx-field-value">
          <input type="text" id="name" formControlName="name" class="form-control" />
        </div>
      </div>
      <div class="dx-field">
        <div class="dx-field-label">{{t('account.sureName')}}</div>
        <div class="dx-field-value">
          <input type="text" id="surename" formControlName="surename" class="form-control" />
        </div>
      </div>
      <div class="dx-field">
        <div class="dx-field-label">{{t('account.nationality')}}</div>
        <div class="dx-field-value">
          <input type="text" id="nationality" formControlName="nationality" class="form-control" />
        </div>
      </div>
      <div class="dx-field">
        <div class="dx-field-label">{{t('account.phone')}}</div>
        <div class="dx-field-value">
          <input type="text" id="phone" formControlName="phone" class="form-control" />
        </div>
      </div>
      <div class="dx-field">
        <div class="dx-field-label">{{t('account.dateOfBirth')}}</div>
        <div class="dx-field-value">
          <input type="date" id="dateOfBirth" formControlName="dateOfBirth" class="form-control" />
          <div
            *ngIf="registerForm.controls['dateOfBirth'].invalid && (registerForm.controls['dateOfBirth'].errors?.['required'] || registerForm.controls['dateOfBirth'].errors?.['maxDate'] || registerForm.controls['dateOfBirth'].errors?.['minAge'])">
            <div *ngIf="registerForm.controls['dateOfBirth'].errors?.['maxDate']">
              {{t('notification.maxDate')}}
            </div>
            <div *ngIf="registerForm.controls['dateOfBirth'].errors?.['minAge']">
              {{t('notification.minAge')}}
            </div>
          </div>
        </div>
      </div>
      <div class="dx-field">
        <div class="dx-field-label">{{t('account.role')}}</div>
        <div class="dx-field-value">
          <select id="roleid" formControlName="roleid" class="form-control">
            <option *ngFor="let role of roles" [value]="role.id">{{t('role.'+role.name)}}</option>
          </select>
        </div>
      </div>
      <div class="error" *ngIf="errorMessage" >{{errorMessage}}</div>
    </div>
    <dx-validation-summary id="summary"></dx-validation-summary>
    <div style="text-align: center;">
      <button class="btn btn-primary" id="button" type="default"
          useSubmitBehavior="true">
          {{t('account.register')}}
      </button>
    </div>
  </form>
</ng-container>