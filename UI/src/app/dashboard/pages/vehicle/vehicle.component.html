<ng-container *transloco="let t">
  <dx-toolbar>
    <dxi-item location="before">
      <h3>{{t('vehicle.list')}}</h3>
    </dxi-item>
    <dxi-item location="before">
      <div *dxTemplate>
        <a [routerLink]="['editor']">
          <dx-button type="default" [text]="t('action.add')"></dx-button>
        </a>
      </div>
    </dxi-item>
  </dx-toolbar>
  <br />
  <br />
  <div>
    <dx-data-grid
  id="gridContainer"
  [customizeColumns]="customizeColumns"
  [dataSource]="datasource"
  [showBorders]="true" [hoverStateEnabled]="true" [activeStateEnabled]="true"
  [allowColumnResizing]="true" [allowColumnReordering]="true" [remoteOperations]="true"
  (onRowDblClick)="handleRowDoubleClick($event)">
  <dxo-filter-row [visible]="true"></dxo-filter-row>
  <dxo-scrolling rowRenderingMode="virtual"> </dxo-scrolling>
  <dxo-sorting mode="multiple"></dxo-sorting>
  <dxo-paging [pageSize]="10"> </dxo-paging>
  <dxo-pager
    [visible]="true"
    [allowedPageSizes]="allowedPageSizes"
    [displayMode]="displayMode"
    [showPageSizeSelector]="true"
    [showInfo]="true"
    [showNavigationButtons]="true"
  >
  </dxo-pager>
  <dxi-column [width]="40" [fixed]="true"></dxi-column>

      <dxi-column dataField="image" [width]="220" [allowFiltering]="false" [allowSorting]="false"
        cellTemplate="cellTemplate"></dxi-column>

      <dxi-column dataField="producer" [caption]="t('vehicle.producer')" [filterOperations]="['startswith']"
        [allowSorting]="true"></dxi-column>

      <dxi-column dataField="modelSpecifer" [caption]="t('vehicle.modelSpecifer')" [allowFiltering]="true"
        [allowSorting]="false"></dxi-column>
      <dxi-column dataField="modelGeneration" [caption]="t('vehicle.modelGeneration')" [allowFiltering]="false"
        [allowSorting]="true"></dxi-column>
      <dxi-column dataField="registrationYear" [caption]="t('vehicle.registrationYear')" [allowFiltering]="false"
        [allowSorting]="true"></dxi-column>
      <dxi-column dataField="meterReadout" [caption]="t('vehicle.meterReadout')" [allowFiltering]="false"
        [allowSorting]="true"></dxi-column>
      <dxi-column dataField="dateTime" [caption]="t('vehicle.dateTime')" dataType="date" [allowFiltering]="false"
        [allowSorting]="true">
      </dxi-column>
      <dxi-column dataField="currentBid" [caption]="t('vehicle.currentBid')" [allowFiltering]="false" [width]="120"
        [allowSorting]="false"></dxi-column>

      <dxi-column [width]=" 40"></dxi-column>


      <div *dxTemplate="let data of 'cellTemplate'">
        <img [src]="data.value" width="200" height="150" />
      </div>

      <dxo-summary>
        <dxi-total-item column="registrationYear" summaryType="count"> </dxi-total-item>
        <dxi-total-item
          column="registrationYear"
          summaryType="min"
        >
        </dxi-total-item>
        <dxi-total-item
          column="registrationYear"
          summaryType="sum"
          valueFormat="currency"
        >
        </dxi-total-item>
      </dxo-summary>

      <div *dxTemplate="let d of 'discountCellTemplate'">
        <div class="chart-cell">
          <dx-bullet
            [showTarget]="false"
            [showZeroLevel]="true"
            [startScaleValue]="0"
            [endScaleValue]="100"
            [value]="d.value * 100"
          >
            <dxo-size [width]="150" [height]="35"></dxo-size>
            <dxo-tooltip
              [enabled]="true"
              [paddingTopBottom]="2"
            >
              <dxo-font [size]="18"></dxo-font>
            </dxo-tooltip>
            <dxo-margin [top]="5" [bottom]="0" [left]="5"></dxo-margin>
          </dx-bullet>
        </div>
      </div>
</dx-data-grid>
  </div>


</ng-container>
